<!DOCTYPE html>
<meta charset="UTF-8">
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>  <!-- jqueryで実装する場合 -->
        <link rel="stylesheet" href="style.css">
        <title>電卓</title>
    </head>
    <body>
       <input type="text" id="number">
           <script>
                function update( _v ) // input tag を更新する関数
                {
                    document.querySelector( 'input' ).value = _v
                }
            
                function append( _v ) // 数字ボタンが押されたので数字を後ろに追加する
                {
                    document.querySelector( 'input' ).value += _v
                }
            
                function calc() // 「＝」ボタンが押されたので計算する
                {
                    const v = document.querySelector( 'input' ).value
                    try {
                        const f = new Function( 'return ' + v )
                        update( f().toString() )
                    } catch( _error ) {
                        update( _error ) // 計算に失敗した場合は、そのエラーの内容を表示する
                    }
                }
            </script>
        <table>
            <tr>
                <td><button onclick="append( '7' )" >7</button></td>
                <td><button onclick="append( '8' )" >8</button></td>
                <td><button onclick="append( '9' )" >9</button></td>
                <td><button onclick="append( '+' )" >+</button></td>
            </tr>
            <tr>
                <td><button onclick="append( '6' )" >6</button></td>
                <td><button onclick="append( '5' )" >5</button></td>   
                <td><button onclick="append( '4' )" >4</button></td>   
                <td><button onclick="append( '-' )" >-</button></td>
            </tr>
            <tr>
                <td><button onclick="append( '1' )" >1</button></td>
                <td><button onclick="append( '2' )" >2</button></td>    
                <td><button onclick="append( '3' )" >3</button></td>    
                <td><button onclick="append( '*' )" >️*</button></td>
            </tr>
            <tr>
                <td><button onclick="append( '0' )" >0</button></td>
                <td><button onclick="append( '00' )" >00</button></td>    
                <td><button onclick="append( '.' )" >.</button></td>    
                <td><button onclick="append( '/' )" >/</button></td>
            </tr>
            <tr>
                <td colspan="2"><button id="ac" onclick="update( '' ) " >AC</button></td>
                <td colspan="2"><button id="equal" onclick="calc()">=</button></td>
            </tr>
        </table>
    </body>
</html>